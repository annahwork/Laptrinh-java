<section class="campaign-page">
    <link rel="stylesheet" href="/evm/assets/css/EVM-Staff/campaigns.css">
    
    <div class="page-header">
        <h2>Quản lý Chiến dịch</h2>
    </div>

    <div class="filter-section actions"> <div class="search-box">
            <input
                type="text" 
                id="searchInput"
                placeholder="Tìm kiếm theo tên chiến dịch..."
                aria-label="Tìm kiếm chiến dịch"
            />
        </div>
        <div class="filter-controls">
            <select id="statusFilter" class="filter-select" aria-label="Lọc trạng thái">
                <option value="">Tất cả trạng thái</option>
                <option value="Pending">Chờ duyệt (Pending)</option>
                <option value="Active">Đang chạy (Active)</option>
                <option value="Completed">Hoàn thành (Completed)</option>
                <option value="Rejected">Từ chối (Rejected)</option>
            </select>
            <button class="btn-primary" id="btnCreateCampaign">
                Tạo chiến dịch mới
            </button>
        </div>
    </div>

    <div class="table-section">
        <div class="table-container">
            <table class="data-table"> <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tên chiến dịch</th>
                        <th>Trạng thái</th>
                        <th>Ngày tạo/bắt đầu</th>
                        <th>Người tạo</th>
                        <th>Hành động</th>
                    </tr>
                </thead>
                <tbody id="campaignsTableBody">
                    <tr>
                        <td colspan="6" class="no-data">
                            <p>Đang tải dữ liệu...</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="card-footer"> <div class="pagination-wrapper">
                <span class="pagination-info" id="paginationInfo">Hiển thị 0 của 0</span>
                <div class="pagination-controls">
                    <button class="pagination-btn" id="btnPrev" disabled>« Trước</button>
                    <button class="pagination-btn-active" id="btnCurrent" aria-current="page">1</button>
                    <button class="pagination-btn" id="btnNext" disabled>Sau »</button>
                </div>
            </div>
        </div>
    </div>

    <div id="campaignModal" class="campaign__modal" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="campaignModalTitle">
        <div class="campaign__modal-content">
            <button class="campaign__close-button" id="btnCancelModalHeader" aria-label="Đóng">&times;</button>
            <h3 id="campaignModalTitle" class="campaign__modal-title" style="margin-bottom: 20px;">Tạo chiến dịch mới</h3>
            
            <form id="campaignForm">
                <div class="campaign__form-group">
                    <label for="campaignName" class="campaign__label">Tên chiến dịch <span style="color:red;">*</span></label>
                    <input type="text" id="campaignName" class="campaign__input" required />
                </div>
                <div class="campaign__form-group">
                    <label for="campaignDescription" class="campaign__label">Mô tả</label>
                    <textarea id="campaignDescription" class="campaign__textarea" rows="3"></textarea>
                </div>
                <div class="campaign__form-group">
                    <label for="campaignStartDate" class="campaign__label">Ngày bắt đầu <span style="color:red;">*</span></label>
                    <input type="date" id="campaignStartDate" class="campaign__input" required />
                </div>
                <input type="hidden" id="campaignId" />

                <div class="campaign__button-group">
                    <button type="button" class="campaign__button campaign__button--cancel" id="btnCancelModal">Hủy</button>
                    <button type="submit" class="campaign__button campaign__button--submit">Lưu</button>
                </div>
            </form>
        </div>
    </div>

    <div id="approveModal" class="campaign__modal" style="display:none;" role="dialog" aria-modal="true" aria-labelledby="approveModalTitle">
        <div class="campaign__modal-content" style="width: 400px;"> <button class="campaign__close-button" id="btnCloseApproveModal" aria-label="Đóng">&times;</button>
            <h3 id="approveModalTitle" class="campaign__modal-title">Chi tiết chiến dịch</h3>
            
            <div class="campaign__modal-body" style="padding-top: 15px; line-height: 1.6;">
                <p><strong>Mã chiến dịch:</strong> <span id="modalCampaignId"></span></p>
                <p><strong>Tên chiến dịch:</strong> <span id="modalCampaignName"></span></p>
                <p><strong>Ngày bắt đầu:</strong> <span id="modalCampaignStart"></span></p>
                <p><strong>Trạng thái:</strong> <span id="modalCampaignStatus"></span></p>
                <p><strong>Mô tả:</strong> <span id="modalCampaignDesc" style="font-style: italic;"></span></p>
            </div>
            
            <div class="campaign__button-group" id="approveModalActions">
                </div>
        </div>
    </div>

</section>

<script src="/evm/assets/js/EVM-Staff/campaigns.js" render></script>